{% extends 'layouts/base.html' %}

{% block title %}
GMU Bookshare &bull; Homepage
{% endblock %}

{% block content %}

<div class="page-header" id="banner">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="text-center"><strong>GMU</strong>&#8203;BOOKSHARE</h1>
    </div>
  </div>
</div>

<div class="row">

  <div class="col-sm-6">
    <a href="{% url 'create_listing' %}" class="btn btn-primary btn-lg btn-block">
      I have a book
    </a>
  </div>

  <div class="col-sm-6">
    <a href="{% url 'search' %}" class="btn btn-primary btn-lg btn-block">
      I need a book
    </a>
  </div>

</div>

<hr/>

  <!-- Ideally this will be focused on columns, like Pinterest. -->
  {% if listings %}

    {% for listing in listings %}

      <!-- Add the first row -->
      {% if forloop.counter == 1 %}
      <div class="row">
      {% endif %}

      <div class="col-md-4">
        {% include 'listing_preview_panel.html' %}
      </div>

      <!-- Add the middle row splitter -->
      {% if forloop.counter == 3%}
      </div>
      <div class="row">
      {% endif %}

      <!-- Close the last row finally. -->
      {% if forloop.counter == 6 %}
      </div>
      {% endif %}

    {% endfor %}

  {% else %}
    <div class="row">
      <div class="col-lg-12 text-center">
        <div class="panel panel-warning">
          <div class="panel-body">
            <h3>No lookout results found.</h3>
            <p>
              You may not have set any, try
              <a href="{%url 'lookouts' request.user.username%}">
                setting some</a>.
            </p>
          </div>
        </div>
      </div>
    </div>
  {% endif %}

{% endblock %}
